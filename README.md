# Создатель викторин для QuizBot

Cкрипт поможет вам легко создавать викторины для Telegram бота [QuizBot](https://t.me/QuizBot).

Скрипт берет вопросы и ответы из файла `sources/example.yml` и автоматически создает викторину в [QuizBot](https://t.me/QuizBot)
от имени пользователя под которым вы авторизуетесь в Telegram.

[QuizBot](https://t.me/QuizBot) - это бот команды Telegram. [Подробнее...](https://telegram.org/tour/quizbot)

> Вам не нужно вручную вводить каждый вопрос и ответ в бота - скрипт сделает все за вас!

### Как это работает?

1. **Установка:**
    * Убедитесь, что у вас установлен Python 3.10 или выше.
    * Установите необходимые библиотеки: `pip install -r requirements.txt`
    * Создайте файл `.env` в той же папке, что и скрипт, и добавьте туда свои `API_ID` и `API_HASH` из Telegram (инструкция ниже).
2. **Подготовка вопросов:**
    * Откройте файл `sources/example.yml` в любом текстовом редакторе.
    * Вы увидите пример викторины. Измените название, описание и вопросы на свои. 
    * Сохрани файл.
3. **Убедитесь, что у вас есть активный чат с QuizBot в Telegram:**
    * Перейдите по ссылке [QuizBot](https://t.me/QuizBot).
    * Нажмите кнопку Start, чтобы разрешить взаимодействовать с ботом.
    * Обязательно выберите русский язык для бота, потому что скрипт отправляет сообщения на русском языке.
4. **Запуск скрипта:**
    * Откройте терминал или командную строку.
    * Перейдите в папку со скриптом.
    * Запустите скрипт командой `python main.py`.
    * При первом запуске скрипт запросит номер телефона и данные для авторизации.
    * При повторном запуске скрипт использует файл сессии (*.session).
5. **Готово!** Скрипт создаст викторину в QuizBot. Вы найдете ее в боте.

### Как получить API ID и API HASH

> https://core.telegram.org/api/obtaining_api_id

1. Авторизуйтесь на сайте: https://my.telegram.org.
2. Кликните по "API development tools" и заполните форму.
3. Вы получите базовые адреса, а также параметры api_id и api_hash, необходимые скрипту.
4. Создайте файл .env в той же папке, что и скрипт, и добавьте туда свои API_ID и API_HASH:

```
API_ID=ваш_api_id
API_HASH=ваш_api_hash
```

### Файл `example.yml`

В этом файле хранятся вопросы и ответы для викторины.

```yaml
quiz_title: "Название викторины"  # max_length=128
quiz_desc: "Описание викторины"   # max_length=1024
questions:
  - title: "Первый вопрос"        # max_length=2000
    incorrect_answers: # 9 или меньше некорректных ответов
      - "Неправильный ответ 1"          # max_length=100
      - "Неправильный ответ 2"
    correct_answer: "Правильный ответ"  # max_length=100
    solution: "Объяснение ответа"       # max_length=200

  - title: "Второй вопрос"
    ...
```

### Промт для создания квизов с помощью GPT

```

<Опишите какой квиз вы хотите создать тут>.

Ты обязательно должен вернуть ответ в следующем формате YAML, без комментариев.

\```yml
quiz_title: "Название квиза"  # max_length=128
quiz_desc: "Описание квиза"  # max_length=1024
questions:
  - title: "Текст вопроса"  # max_length=2000
    incorrect_answers:
      - "Неправильный ответ"  # max_length=100
      - ...
    correct_answer: "Правильный ответ"  # max_length=100
    solution: "Необязательное объяснение правильного ответа, которое пользователь увидит, если ответил неверно"  # max_length=200
  - ...
\```

Дополнительные указания
- Соблюдай ограничения по количеству символов.
- Неправильных ответов может быть много.
- Правильным ответом может быть только один.
- Правильный ответ не должен быть заметно длиннее по количеству символов, чем неправильные.
- Вопросы и ответы должны быть однозначны.
- Дважды проверь, что квиз не противоречит здравой логике.

Составь минимум 10 вопросов.
```

### Настройка

* **ONLY_CHECK:** Если вы хотите только проверить, правильно ли составлен файл `example.yml`, измените значение `ONLY_CHECK` на `True`. Скрипт проверит файл и покажет ошибки, если они есть.
* **QUIZ_FILEPATH:**  Здесь вы можете указать путь к другому файлу с вопросами.

### Важно!

* Не забудьте создать файл `.env` с вашими `API_ID` и `API_HASH`!
* Убедитесь, что у вас есть активный чат с QuizBot в Telegram.
